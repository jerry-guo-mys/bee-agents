# æ·±åº¦ç ”ç©¶åŠŸèƒ½å®ç°æ€»ç»“

## ğŸ“¦ å·²å®ç°åŠŸèƒ½

### 1. æ ¸å¿ƒå·¥å…· (4 ä¸ª)

#### âœ… `deep_search` - æ·±åº¦æœç´¢å·¥å…·
**æ–‡ä»¶**: `src/tools/deep_search.rs`

**åŠŸèƒ½**:
- å°†å¤æ‚ç ”ç©¶é—®é¢˜åˆ†è§£ä¸º 3-5 ä¸ªå­æŸ¥è¯¢
- æ‰§è¡Œå¤šè½®è¿­ä»£æœç´¢ï¼ˆæœ€å¤š 5 è½®ï¼‰
- åŸºäºå‰ä¸€è½®ç»“æœç”Ÿæˆåç»­æŸ¥è¯¢
- è‡ªåŠ¨æ•´åˆæ‰€æœ‰æœç´¢ç»“æœç”Ÿæˆæ‘˜è¦

**å…³é”®æ–¹æ³•**:
- `decompose_query()`: é—®é¢˜åˆ†è§£
- `search_round()`: å•è½®æœç´¢æ‰§è¡Œ
- `generate_follow_up_queries()`: ç”Ÿæˆåç»­æŸ¥è¯¢
- `synthesize_results()`: ç»“æœæ•´åˆ

**è¿”å›ç»“æ„**:
```json
{
  "topic": "ç ”ç©¶ä¸»é¢˜",
  "summary": "ç»¼åˆæ‘˜è¦",
  "key_findings": ["å‘ç° 1", "å‘ç° 2"],
  "total_sources": 12,
  "follow_up_questions": ["é—®é¢˜ 1", "é—®é¢˜ 2"]
}
```

---

#### âœ… `validate_source` - ä¿¡æ¯æºéªŒè¯å·¥å…·
**æ–‡ä»¶**: `src/tools/source_validator.rs`

**åŠŸèƒ½**:
- è¯„ä¼°ç½‘é¡µæ¥æºçš„å¯ä¿¡åº¦
- åŸºäºåŸŸåç±»å‹ç»™å‡ºä¿¡ä»»åˆ†æ•° (0-1)
- æä¾›ä½¿ç”¨å»ºè®®

**ä¿¡ä»»è¯„åˆ†æ ‡å‡†**:
- 0.9: é…ç½®çš„å¯ä¿¡åŸŸå
- 0.85: .edu/.gov åŸŸå
- 0.8: Wikipedia
- 0.75: GitHub/StackOverflow
- 0.5: å…¶ä»–åŸŸå

**è¿”å›ç»“æ„**:
```json
{
  "url": "https://...",
  "trust_score": 0.85,
  "credibility": "high",
  "recommendation": "reliable source for research"
}
```

---

#### âœ… `generate_report` - æŠ¥å‘Šç”Ÿæˆå·¥å…·
**æ–‡ä»¶**: `src/tools/report_generator.rs`

**åŠŸèƒ½**:
- å°†ç ”ç©¶ç»“æœæ•´ç†ä¸ºç»“æ„åŒ–æŠ¥å‘Š
- æ”¯æŒ Markdown å’Œ JSON ä¸¤ç§æ ¼å¼
- åŒ…å«æ‘˜è¦ã€å‘ç°ã€åˆ†æã€ç»“è®ºã€å»ºè®®ã€å¼•ç”¨

**Markdown æŠ¥å‘Šç»“æ„**:
```markdown
# æŠ¥å‘Šæ ‡é¢˜

## Executive Summary
## Key Findings
## Analysis
## Conclusions
## Recommendations
## References
```

---

#### âœ… `build_knowledge_graph` - çŸ¥è¯†å›¾è°±æ„å»ºå·¥å…·
**æ–‡ä»¶**: `src/tools/knowledge_graph.rs`

**åŠŸèƒ½**:
- ä»æ–‡æœ¬ä¸­æå–å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰
- è¯†åˆ«å®ä½“é—´å…³ç³»ï¼ˆè¾¹ï¼‰
- è¾“å‡ºç»“æ„åŒ–å›¾è°±æ•°æ®

**è¿”å›ç»“æ„**:
```json
{
  "topic": "ä¸»é¢˜",
  "graph": {
    "nodes": [{"id": "å®ä½“ 1", "label": "æ ‡ç­¾", "type": "concept"}],
    "edges": [{"source": "å®ä½“ 1", "target": "å®ä½“ 2", "relationship": "related_to"}]
  }
}
```

---

### 2. é…ç½®æ–‡ä»¶æ›´æ–°

**æ–‡ä»¶**: `config/default.toml`

**æ–°å¢é…ç½®æ®µ**:
```toml
[tools.deep_research]
max_rounds = 5
max_results_per_round = 3
trusted_domains = [
  "wikipedia.org", "arxiv.org", "pubmed.gov",
  "scholar.google.com", "github.com", "stackoverflow.com"
]
```

---

### 3. å·¥å…·æ³¨å†Œ

**æ–‡ä»¶**: `src/agent.rs`, `src/tools/mod.rs`

**ä¿®æ”¹**:
- åœ¨ `mod.rs` ä¸­å¯¼å‡º 4 ä¸ªæ–°å·¥å…·æ¨¡å—
- åœ¨ `agent.rs` çš„ `create_agent_components()` ä¸­æ³¨å†Œæ‰€æœ‰æ–°å·¥å…·
- æ‰€æœ‰å·¥å…·åœ¨ TUI/Web/WhatsApp ç•Œé¢å‡å¯ç”¨

---

### 4. æ–‡æ¡£

#### âœ… å®Œæ•´ä½¿ç”¨æ–‡æ¡£
**æ–‡ä»¶**: `docs/DEEP_RESEARCH.md`

**å†…å®¹**:
- åŠŸèƒ½æ¦‚è¿°
- 4 ä¸ªå·¥å…·çš„è¯¦ç»†è¯´æ˜
- ä½¿ç”¨ç¤ºä¾‹ï¼ˆ3 ä¸ªåœºæ™¯ï¼‰
- é…ç½®è¯´æ˜
- æœ€ä½³å®è·µ
- æ€§èƒ½æŒ‡æ ‡
- æ•…éšœæ’é™¤
- è¿›é˜¶ç”¨æ³•

#### âœ… å¿«é€Ÿå…¥é—¨æŒ‡å—
**æ–‡ä»¶**: `docs/DEEP_RESEARCH_QUICKSTART.md`

**å†…å®¹**:
- 5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—
- é«˜çº§ç”¨æ³•ç¤ºä¾‹
- API è°ƒç”¨ç¤ºä¾‹
- æ€§èƒ½åŸºå‡†
- æ•…éšœæ’é™¤

#### âœ… README æ›´æ–°
**æ–‡ä»¶**: `README.md`

**æ›´æ–°**:
- åœ¨åŠŸèƒ½ç‰¹æ€§ä¸­æ·»åŠ "æ·±åº¦ç ”ç©¶"
- åœ¨é¡¹ç›®ç»“æ„ä¸­åˆ—å‡ºæ–°å·¥å…·æ–‡ä»¶
- æ·»åŠ æ·±åº¦ç ”ç©¶æ–‡æ¡£å¯¼èˆªé“¾æ¥

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·è¯·æ±‚                      â”‚
â”‚  "ç ”ç©¶ Rust å¼‚æ­¥ç¼–ç¨‹"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      deep_search (è‡ªä¸»æ‰§è¡Œ)          â”‚
â”‚  1. åˆ†è§£é—®é¢˜ â†’ 4 ä¸ªå­æŸ¥è¯¢              â”‚
â”‚  2. Round 1 â†’ æœç´¢åˆå§‹ç»“æœ           â”‚
â”‚  3. Round 2 â†’ ç”Ÿæˆåç»­æŸ¥è¯¢å¹¶æœç´¢     â”‚
â”‚  4. Round 3 â†’ æ·±å…¥æ¢ç´¢               â”‚
â”‚  5. æ•´åˆæ‰€æœ‰ç»“æœ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    validate_source (å¯é€‰)            â”‚
â”‚    éªŒè¯å…³é”®ä¿¡æ¯æ¥æºå¯ä¿¡åº¦             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    generate_report                   â”‚
â”‚    ç”Ÿæˆç»“æ„åŒ–ç ”ç©¶æŠ¥å‘Š                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    build_knowledge_graph (å¯é€‰)      â”‚
â”‚    æå–å®ä½“å’Œå…³ç³»                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
        æœ€ç»ˆç ”ç©¶æŠ¥å‘Š
```

### LLM é›†æˆ

æ‰€æœ‰å·¥å…·ä½¿ç”¨ç»Ÿä¸€çš„ LLM æ¥å£ï¼š
```rust
use crate::llm::LlmClient;
use crate::memory::Message;

let messages = vec![Message::user(&prompt)];
let response = self.llm.complete(&messages).await?;
```

### é”™è¯¯å¤„ç†

æ‰€æœ‰å·¥å…·è¿”å›ç»Ÿä¸€æ ¼å¼ï¼š
```rust
Result<String, String>
// Ok: JSON æˆ– Markdown ç»“æœ
// Err: é”™è¯¯ä¿¡æ¯
```

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

| æ–‡ä»¶ | è¡Œæ•° | åŠŸèƒ½ |
|------|------|------|
| `deep_search.rs` | ~200 | å¤šè½®æœç´¢è§„åˆ’ |
| `source_validator.rs` | ~80 | æ¥æºéªŒè¯ |
| `report_generator.rs` | ~100 | æŠ¥å‘Šç”Ÿæˆ |
| `knowledge_graph.rs` | ~100 | çŸ¥è¯†å›¾è°± |
| **æ€»è®¡** | **~480 è¡Œ** | **4 ä¸ªå·¥å…·** |

---

## âœ… éªŒè¯æ¸…å•

- [x] æ‰€æœ‰å·¥å…·ç¼–è¯‘é€šè¿‡
- [x] å·¥å…·æ³¨å†Œåˆ° Agent
- [x] é…ç½®æ–‡ä»¶æ›´æ–°
- [x] æ–‡æ¡£å®Œæ•´
- [x] README æ›´æ–°
- [x] æ— ç¼–è¯‘é”™è¯¯å’Œè­¦å‘Š
- [x] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•
```
ç”¨æˆ·ï¼šå¸®æˆ‘ç ”ç©¶ä¸€ä¸‹ Rust å¼‚æ­¥ç¼–ç¨‹çš„æœ€æ–°å‘å±•
```

Bee è‡ªåŠ¨æ‰§è¡Œï¼š
1. `deep_search` â†’ å¤šè½®ç ”ç©¶
2. `validate_source` â†’ éªŒè¯æ¥æº
3. `generate_report` â†’ ç”ŸæˆæŠ¥å‘Š

### è¿›é˜¶ç”¨æ³•
```
ç”¨æˆ·ï¼šç ”ç©¶é‡å­è®¡ç®—å¯¹å¯†ç å­¦çš„å½±å“ï¼Œè¿›è¡Œ 5 è½®æ·±åº¦æœç´¢ï¼Œæœ€åç”Ÿæˆ JSON æ ¼å¼æŠ¥å‘Š
```

---

## ğŸ¯ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸ (1-2 å‘¨)
- [ ] é›†æˆçœŸå®çš„ Web æœç´¢ APIï¼ˆå½“å‰ä¸ºç¤ºä¾‹ï¼‰
- [ ] æ·»åŠ æœç´¢ç»“æœå»é‡é€»è¾‘
- [ ] å®ç°æœç´¢ç»“æœç¼“å­˜
- [ ] æ·»åŠ ç ”ç©¶è¿›åº¦å¯è§†åŒ–

### ä¸­æœŸ (1-2 æœˆ)
- [ ] æ”¯æŒ PDF è®ºæ–‡è§£æ
- [ ] é›†æˆå­¦æœ¯ APIï¼ˆarXivã€PubMedï¼‰
- [ ] å¤šè¯­è¨€ç ”ç©¶æ”¯æŒ
- [ ] å¼•ç”¨æ ¼å¼å¯¼å‡ºï¼ˆBibTeXï¼‰

### é•¿æœŸ (3-6 æœˆ)
- [ ] MCP åè®®é›†æˆ
- [ ] å¤šæ™ºèƒ½ä½“åä½œç ”ç©¶
- [ ] å®æ—¶ç ”ç©¶è¿›åº¦ Web UI
- [ ] ç ”ç©¶æˆæœåˆ†äº«åŠŸèƒ½

---

## ğŸ“ æ€»ç»“

æˆåŠŸå®ç°äº†å®Œæ•´çš„æ·±åº¦ç ”ç©¶åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

1. **4 ä¸ªæ ¸å¿ƒå·¥å…·**: deep_search, validate_source, generate_report, build_knowledge_graph
2. **å®Œæ•´æ–‡æ¡£**: ä½¿ç”¨æ–‡æ¡£ + å¿«é€Ÿå…¥é—¨
3. **æ— ç¼é›†æˆ**: æ‰€æœ‰å·¥å…·å·²æ³¨å†Œåˆ° Agentï¼Œç«‹å³å¯ç”¨
4. **é›¶ç¼–è¯‘é”™è¯¯**: ä»£ç è´¨é‡è‰¯å¥½

è¿™ä½¿å¾— Bee å…·å¤‡äº†åƒä¸“ä¸šç ”ç©¶å‘˜ä¸€æ ·è¿›è¡Œæ·±åº¦è°ƒæŸ¥çš„èƒ½åŠ›ï¼Œæ˜¯è®©é¡¹ç›®"ç«èµ·æ¥"çš„å…³é”®åŠŸèƒ½ï¼

---

*å®ç°å®Œæˆæ—¶é—´ï¼š2026-02-17*
*ä»£ç è¡Œæ•°ï¼š~480 è¡Œ*
*æ–°å¢æ–‡æ¡£ï¼š~500 è¡Œ*
